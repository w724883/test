require(["zepto","serialize","ui"],function(e,t,n){var r={init:function(){this.bindEvent()},bindEvent:function(){this.container=e("#register"),this.data={},this.page=0,this.container.on("tap",".J-submit",function(e){var n=t.init(r.container.find(".register-container").eq(r.page));r.nextPage(n)}),this.container.on("tap",".J-verify",function(n){t.getCode(r.container.find('input[name="phone"]'),e(this),1)})},enter:function(){e.post("/user_register",r.data,function(e){e.code==200?window.location.href="/":n.alert(e.message)},"json").fail(function(e){n.alert(e)})},nextPage:function(t){t.error.length?n.alert(t.error[0].error):(e.extend(this.data,t.data),this.data.sex?this.enter():(this.container.find(".switch-container").css("transform","translate3d(0,-"+e(window).height()+"px,0)"),this.page++))}};r.init()});