/*!
 * Lazy Load - jQuery/Zepto plugin for lazy loading images
 * Copyright (c) 2007-2015 Mika Tuupola
 * Licensed under the MIT license:http://www.opensource.org/licenses/mit-license.php
 * Project home:http://www.appelsiini.net/projects/lazyload
 * Version:  1.9.5
 */

(function(e,t,n,r){var i=e(t);e.fn.lazyload=function(s,o){function l(){var t=0;u.each(function(){var n=e(this);if(f.skip_invisible&&!n.is(":visible"))return;if(!e.abovethetop(this,f)&&!e.leftofbegin(this,f))if(!e.belowthefold(this,f)&&!e.rightoffold(this,f))n.trigger("appear"),t=0;else if(++t>f.failure_limit)return!1})}var u=this,a,f={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:t,data_attribute:"original",skip_invisible:!1,center:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",callbak:function(){}};return s&&(r!==s.failurelimit&&(s.failure_limit=s.failurelimit,delete s.failurelimit),r!==s.effectspeed&&(s.effect_speed=s.effectspeed,delete s.effectspeed),e.extend(f,s)),a=f.container===r||f.container===t?i:e(f.container),0===f.event.indexOf("scroll")&&a.bind(f.event,function(){return l()}),this.each(function(){var t=this,n=e(t);t.loaded=!1,(n.attr("src")===r||n.attr("src")===!1)&&n.is("img")&&n.attr("src",f.placeholder),n.one("appear",function(){if(!this.loaded){if(f.appear){var r=u.length;f.appear.call(t,r,f)}e("<img />").bind("load",function(){var r=n.attr("data-"+f.data_attribute);n.hide().parent().css("overflow","hidden");if(n.is("img")){n.attr("src",r);if(f.center&&!n.hasClass("nocenter")){var i=n[0].width,s=n[0].height,a=n.parent().width(),l=n.parent().height(),c=i/s,h=a/l;c>h?n.css({height:"100%",width:"auto",marginLeft:parseInt((a-l*c)/2)}):n.css({width:"100%",height:"auto",marginTop:parseInt((l-a/c)/2)})}}else n.css("background-image","url('"+r+"')");n[f.effect](f.effect_speed),o&&typeof o=="function"&&o(n),t.loaded=!0;var p=e.grep(u,function(e){return!e.loaded});u=e(p);if(f.load){var d=u.length;f.load.call(t,d,f)}}).attr("src",n.attr("data-"+f.data_attribute))}}),0!==f.event.indexOf("scroll")&&n.bind(f.event,function(){t.loaded||n.trigger("appear")})}),i.bind("resize",function(){l()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&u.each(function(){e(this).trigger("appear")})}),e(n).ready(function(){l()}),this},e.fn.center=function(){var t=this;t.each(function(t,n){n=e(n),n.hide().parent().css("overflow","hidden");var r=new Image,i=n.data("original");r.src=i,r.onload=function(){var e=this.width,t=this.height,r=n.parent().width(),s=n.parent().height(),o=e/t,u=r/s;o>u?n.css({height:"100%",width:"auto",marginLeft:parseInt((r-s*o)/2)}):n.css({width:"100%",height:"auto",marginTop:parseInt((s-r/o)/2)}),n.attr("src",i).show()}})},e.fn.contain=function(){var t=this;t.each(function(t,n){n=e(n),n.hide().parent().css("overflow","hidden");var r=new Image,i=n.data("original");r.src=i,r.onload=function(){var e=this.width,t=this.height,r=n.parent().width(),s=n.parent().height(),o=e/t,u=r/s;o>u?n.css({width:"100%",height:"auto",marginTop:parseInt((s-r/o)/2)}):n.css({width:"auto",height:"100%",marginLeft:parseInt((r-s*o)/2)}),n.attr("src",i).show()}})},e.belowthefold=function(n,s){var o;return s.container===r||s.container===t?o=(t.innerHeight?t.innerHeight:i.height())+i.scrollTop():o=e(s.container).offset().top+e(s.container).height(),o<=e(n).offset().top-s.threshold},e.rightoffold=function(n,s){var o;return s.container===r||s.container===t?o=i.width()+i.scrollLeft():o=e(s.container).offset().left+e(s.container).width(),o<=e(n).offset().left-s.threshold},e.abovethetop=function(n,s){var o;return s.container===r||s.container===t?o=i.scrollTop():o=e(s.container).offset().top,o>=e(n).offset().top+s.threshold+e(n).height()},e.leftofbegin=function(n,s){var o;return s.container===r||s.container===t?o=i.scrollLeft():o=e(s.container).offset().left,o>=e(n).offset().left+s.threshold+e(n).width()},e.inviewport=function(t,n){return!e.rightoffold(t,n)&&!e.leftofbegin(t,n)&&!e.belowthefold(t,n)&&!e.abovethetop(t,n)},e.extend(e.expr[":"],{"below-the-fold":function(t){return e.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return e.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!e.rightoffold(t,{threshold:0})},"in-viewport":function(t){return e.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!e.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return e.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!e.rightoffold(t,{threshold:0})}})})($,window,document);