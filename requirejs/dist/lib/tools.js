define(["zepto"],function(e){var t={setNumber:function(e,n){var r=e.data("amount"),i=r?e.siblings("input"):e,s=r?Math.round(r):Math.round(e.val()),o=r?Math.round(i.val())+s:s,u=n.limit==undefined?1:n.limit;return t.input=i,o<u||isNaN(o)?(o=n.num=u,t.httpNumber(n),0):o>n.inventory?(o=n.num=n.inventory,t.httpNumber(n),!1):(n.num=o,t.httpNumber(n),o)},httpNumber:function(n){n.cart_id==undefined?t.input.val(n.num):e.post("/edit_cart",n,function(e){e.code==200?t.input.val(n.num):Ui.alert(e.message)},"json").fail(function(e){Ui.alert(e)})}};return{selectNumber:t.setNumber}});