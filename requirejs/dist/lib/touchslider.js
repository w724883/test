define([],function(){"use strict";var e="createTouch"in document||"ontouchstart"in window,t=document.createElement("div").style,n=function(){var e={OTransform:["-o-","otransitionend"],WebkitTransform:["-webkit-","webkitTransitionEnd"],MozTransform:["-moz-","transitionend"],msTransform:["-ms-","MSTransitionEnd"],transform:["","transitionend"]},n;for(n in e)if(n in t)return e[n];return!1}(),r=[["width","left","right"],["height","top","bottom"]],i=n&&n[0],s=function(e){return(e+"").replace(/^-ms-/,"ms-").replace(/-([a-z]|[0-9])/ig,function(e,t){return(t+"").toUpperCase()})},o=function(e){var n=s(i+e);return e in t&&e||n in t&&n},u=function(e,t){for(var n in t)typeof e[n]=="undefined"&&(e[n]=t[n]);return e},a=function(e){var t=e.children||e.childNodes,n=[],r=0;for(;r<t.length;r++)t[r].nodeType===1&&n.push(t[r]);return n},f=function(e,t){var n=0,r=e.length;for(;n<r;n++)if(t.call(e[n],n,e[n])===!1)break},l=function(e){e=h.fn.eventHook(e),e.preventDefault()},c=n[1]||"",h=function(e,t){if(!(this instanceof h))return new h(e,t);typeof e!="string"&&!e.nodeType&&(t=e,e=t.id),e.nodeType||(e=document.getElementById(e)),this.cfg=u(t||{},this._default),this.element=e,this.element&&(this.container=this.element.parentNode||document.body,this.setup())};return h.fn=h.prototype={version:"1.3.1",_default:{id:"slider",begin:0,auto:!0,speed:600,timeout:5e3,direction:"left",align:"center",fixWidth:!0,mouseWheel:!1,mouseDrag:!0,before:new Function,after:new Function},css:function(e,n){if(typeof n=="string"){var r=document.defaultView&&document.defaultView.getComputedStyle&&getComputedStyle(e,null)||e.currentStyle||e.style||{};return r[s(n)]}var i,o;for(i in n)i=="float"?o="cssFloat"in t?"cssFloat":"styleFloat":o=s(i),e.style[o]=n[i]},addListener:function(e,t,n,r){return e.addEventListener?(e.addEventListener(t,n,r),!0):e.attachEvent?(e.attachEvent("on"+t,n),!0):!1},removeListener:function(e,t,n,r){return e.addEventListener?(e.removeEventListener(t,n,r),!0):e.attachEvent?(e.detachEvent("on"+t,n),!0):!1},eventHook:function(t){var n={},r="changedTouches touches scale target view which clientX clientY fromElement offsetX offsetY pageX pageY toElement".split(" ");t=t||window.event,f(r,function(){n[this]=t[this]}),n.target=t.target||t.srcElement||document,n.target.nodeType===3&&(n.target=n.target.parentNode),n.preventDefault=function(){t.preventDefault&&t.preventDefault(),n.returnValue=t.returnValue=!1},n.stopPropagation=function(){t.stopPropagation&&t.stopPropagation(),n.cancelBubble=t.cancelBubble=!0};if(e&&n.touches.length)n.pageX=n.touches.item(0).pageX,n.pageY=n.touches.item(0).pageY;else if(typeof t.pageX=="undefined"){var i=document.documentElement,s=document.body;n.pageX=t.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),n.pageY=t.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)}return n.origEvent=t,n},bind:function(e,t){return function(){return e.apply(t,arguments)}},setup:function(){var t=e||!this.cfg.mouseDrag,r=t?"touchstart":"mousedown",i=t?"touchmove":"mousemove",s=t?"touchend":"mouseup";this.slides=a(this.element),this.length=this.slides.length,this.cfg.timeout=parseInt(this.cfg.timeout),this.cfg.speed=parseInt(this.cfg.speed),this.cfg.begin=parseInt(this.cfg.begin),this.cfg.auto=!!this.cfg.auto,this.cfg.timeout=Math.max(this.cfg.timeout,this.cfg.speed),this.touching=!!e,this.css3transition=!!n,this.index=this.cfg.begin<0||this.cfg.begin>=this.length?0:this.cfg.begin;if(this.length<1)return!1;switch(this.cfg.direction){case"up":case"down":this.direction=this.cfg.direction,this.vertical=1;break;case"right":this.direction="right";default:this.direction=this.direction||"left",this.vertical=0}this.addListener(this.element,r,this.bind(this._start,this),!1),this.addListener(document,i,this.bind(this._move,this),!1),this.addListener(document,s,this.bind(this._end,this),!1),this.addListener(document,"touchcancel",this.bind(this._end,this),!1),this.addListener(this.element,c,this.bind(this.transitionend,this),!1),this.addListener(window,"resize",this.bind(function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.bind(this.resize,this),100)},this),!1),this.cfg.mouseWheel&&(this.addListener(this.element,"mousewheel",this.bind(this.mouseScroll,this),!1),this.addListener(this.element,"DOMMouseScroll",this.bind(this.mouseScroll,this),!1)),this.playing=this.cfg.auto,this.resize()},getSum:function(e,t,n){var r=0,i=t,o=s("-"+e);for(;i<n;i++)r+=this["getOuter"+o](this.slides[i]);return r},getPos:function(e,t){var n=s("-"+e),r=this.getSum(e,t,t+1),i=this.getSum(e,0,t)+this["getOuter"+n](this.element)/2-this["get"+n](this.element)/2;switch(this.cfg.align){case"left":return-i;case"right":return this[e]-r-i;default:return(this[e]-r)/2-i}},resize:function(){clearTimeout(this.aniTimer);var e=this,t,n=r[this.vertical][0],o=s("-"+n),u=this.css(this.container,"position");return this.css(this.container,{overflow:"hidden",visibility:"hidden",listStyle:"none",position:u=="static"?"relative":u}),this[n]=this["get"+o](this.container),t={"float":this.vertical?"none":"left",display:"block"},f(this.slides,function(){e.cfg.fixWidth&&(t[n]=e[n]-e["margin"+o](this)-e["padding"+o](this)-e["border"+o](this)+"px"),e.css(this,t)}),this.total=this.getSum(n,0,this.length),t={position:"relative",overflow:"hidden"},t[i+"transition-duration"]="0ms",t[n]=this.total+"px",t[r[this.vertical][1]]=this.length?this.getPos(n,this.index)+"px":0,this.css(this.element,t),this.css(this.container,{visibility:"visible"}),this.playing&&this.play(),this},slide:function(e,t){var n=r[this.vertical][1],i=r[this.vertical][0],s=o("transition"),u=parseFloat(this.css(this.element,n))||0,a,f={},l,c=this.getSum(i,e,e+1);e=Math.min(Math.max(0,e),this.length-1),t=typeof t=="undefined"?this.cfg.speed:parseInt(t),a=this.getPos(i,e),l=a-u,t=Math.abs(l)<c?Math.ceil(Math.abs(l)/c*t):t;if(s)f[s]=n+" ease "+t+"ms",f[n]=a+"px",this.css(this.element,f);else{var h=this,p=0,d=t/10,v=function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},m=function(){p<d?(p++,h.element.style[n]=Math.ceil(v(p,u,l,d))+"px",h.aniTimer=setTimeout(m,10)):(h.element.style[n]=a+"px",h.transitionend({propertyName:n}))};clearTimeout(this.aniTimer),m()}var g=this.slides[this.index];return this.index=e,this.cfg.before.call(this,e,g),this},play:function(){return clearTimeout(this.timer),this.playing=!0,this.timer=setTimeout(this.bind(function(){this.direction=="left"||this.direction=="up"?this.next():this.prev()},this),this.cfg.timeout),this},pause:function(){return clearTimeout(this.timer),this.playing=!1,this},stop:function(){return this.pause(),this.slide(0)},prev:function(e,t){clearTimeout(this.timer);var n=this.index;return e=typeof e=="undefined"?e=1:e%this.length,n-=e,t===!1?n=Math.max(n,0):n=n<0?this.length+n:n,this.slide(n)},next:function(e,t){clearTimeout(this.timer);var n=this.index;return typeof e=="undefined"&&(e=1),n+=e,t===!1?n=Math.min(n,this.length-1):n%=this.length,this.slide(n)},_start:function(e){e=this.eventHook(e);var t=e.target.nodeName.toLowerCase();!this.touching&&(t=="a"||t=="img")&&e.preventDefault(),this.removeListener(this.element,"click",l),this.startPos=[e.pageX,e.pageY],this.element.style[s(i+"transition-duration")]="0ms",this.startTime=+(new Date),this._pos=parseFloat(this.css(this.element,r[this.vertical][1]))||0},_move:function(e){if(!this.startPos||e.scale&&e.scale!==1)return;e=this.eventHook(e),this.stopPos=[e.pageX,e.pageY];var t,n=r[this.vertical][1],i=r[this.vertical][0],s=this.stopPos[this.vertical]-this.startPos[this.vertical];this.scrolling||typeof this.scrolling=="undefined"&&Math.abs(s)>=Math.abs(this.stopPos[1-this.vertical]-this.startPos[1-this.vertical])?(e.preventDefault(),s/=!this.index&&s>0||this.index==this.length-1&&s<0?Math.abs(s)/this[i]+1:1,this.element.style[n]=this._pos+s+"px",window.getSelection!=null&&(t=getSelection(),t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges()),s&&typeof this.scrolling=="undefined"&&(this.scrolling=!0,clearTimeout(this.timer),clearTimeout(this.aniTimer))):this.scrolling=!1},_end:function(e){if(this.startPos){if(this.scrolling){var t=r[this.vertical][0],n=r[this.vertical][1],i=this.stopPos[this.vertical]-this.startPos[this.vertical],s=Math.abs(i),o=s/i,u,a,f,c=this.index,h=0;this.addListener(this.element,"click",l);if(s>20){a=parseFloat(this.css(this.element,r[this.vertical][1]));do{if(!(c>=0&&c<this.length)){c+=o;break}f=this.getPos(t,c),u=this.getSum(t,c,c+1)}while(Math.abs(f-a)>u/2&&(c-=o));h=Math.abs(c-this.index),!h&&+(new Date)-this.startTime<250&&(h=1)}i>0?this.prev(h,!1):this.next(h,!1),this.playing&&this.play()}delete this._pos,delete this.stopPos,delete this.startPos,delete this.scrolling,delete this.startTime}},mouseScroll:function(e){if(this.cfg.mouseWheel){e=this.eventHook(e);var t=this,n=e.origEvent,r=0,i=0,s;if("wheelDeltaX"in n)r=n.wheelDeltaX,i=n.wheelDeltaY;else if("wheelDelta"in n)i=n.wheelDelta;else{if(!("detail"in n))return;i=-n.detail}!this.vertical&&Math.abs(r)>Math.abs(i)?s=r:i&&(!n.wheelDeltaX||this.vertical&&Math.abs(r)<Math.abs(i))&&(s=i),s&&(e.preventDefault(),clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){s>0?t.prev(1,!1):t.next(1,!1)},100))}},transitionend:function(e){e.propertyName==r[this.vertical][1]&&(this.cfg.after.call(this,this.index,this.slides[this.index]),this.playing&&this.play())},refresh:function(){this.direction==null?this.setup():(this.slides=a(this.element),this.length=this.slides.length,this.index=Math.max(Math.min(this.length-1,this.index),0),this.resize())},append:function(e){this.element.appendChild(e),this.refresh()},prepend:function(e){this.length?this.insertBefore(e,0):this.append(e)},insertBefore:function(e,t){this.element.insertBefore(e,this.slides[t]),this.index>=t&&this.index++,this.refresh()},remove:function(e){this.element.removeChild(this.slides[e]),this.index>=e&&this.index--,this.refresh()}},f(["Width","Height"],function(e,t){var n=t.toLowerCase();f(["margin","padding","border"],function(n,i){h.fn[i+t]=function(t){return(parseFloat(this.css(t,i+"-"+r[e][1]+(i=="border"?"-width":"")))||0)+(parseFloat(this.css(t,i+"-"+r[e][2]+(i=="border"?"-width":"")))||0)}}),h.fn["get"+t]=function(e){return e["offset"+t]-this["padding"+t](e)-this["border"+t](e)},h.fn["getOuter"+t]=function(e){return e["offset"+t]+this["margin"+t](e)}}),h});